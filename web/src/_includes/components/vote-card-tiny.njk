{% macro voteCardTiny(params) %}
{% set passed = (params.vote.yes_count | int) > ((params.vote.no_count | int) + (params.vote.abstain_count | int)) %}

{% if passed %}
<a href="/votes/{{ params.vote.session_id }}/{{ params.vote.meeting_id }}/{{ params.vote.vote_id }}"
   class="card padding flex space-between align-center" style="background-color: #f3fff3">
   {% else %} 
   <a href="/votes/{{ params.vote.session_id }}/{{ params.vote.meeting_id }}/{{ params.vote.vote_id }}"
   class="card padding flex space-between align-center" style="background-color: #fff4f4">
{% endif %}
    <div>
        <p class="title">

            <span>
            {{ (params.vote.title_nl
                | replace(params.proposition.title_nl, params.translations[params.proposition.document_type] | toLowerCase))
                | highlightWord("verwerping") | safe }}.
             {% if params.vote.dossier_id and params.vote.document_id %}
            ({{ params.vote.dossier_id }}/{{ params.vote.document_id }})
                     {% endif %}
        </span>


        </p>
        <div class="vote-bar">
            <div class="bar-segment yes"
                 style="width: {{ (params.vote.yes_count / ((params.vote.yes_count | int) + (params.vote.no_count | int) + (params.vote.abstain_count | int)) * 100).toFixed(1) }}%">
                {% if params.vote.yes_count > 0 %}
                <span class="bar-label">{{ (params.vote.yes_count / ((params.vote.yes_count | int) + (params.vote.no_count | int) + (params.vote.abstain_count | int)) * 100).toFixed(1) }}%</span>
                {% endif %}
            </div>
            <div class="bar-segment no"
                 style="width: {{ (params.vote.no_count / ((params.vote.yes_count | int) + (params.vote.no_count | int) + (params.vote.abstain_count | int)) * 100).toFixed(1) }}%">
                {% if params.vote.no_count > 0 %}
                <span class="bar-label">{{ (params.vote.no_count / ((params.vote.yes_count | int) + (params.vote.no_count | int) + (params.vote.abstain_count | int)) * 100).toFixed(1) }}%</span>
                {% endif %}
            </div>
            <div class="bar-segment abstain"
                 style="width: {{ (params.vote.abstain_count / ((params.vote.yes_count | int) + (params.vote.no_count | int) + (params.vote.abstain_count | int)) * 100).toFixed(1) }}%">
                {% if params.vote.abstain_count > 0 %}
                <span class="bar-label">{{ (params.vote.abstain_count / ((params.vote.yes_count | int) + (params.vote.no_count | int) + (params.vote.abstain_count | int)) * 100).toFixed(1) }}%</span>
                {% endif %}
            </div>
        </div>

        <p class="vote-numbers">
            <span class="vote-dot yes"></span><span>{{ params.translations.yes }} ({{ params.vote.yes_count }})</span>
            <span class="vote-dot no"></span><span>{{ params.translations.no }} ({{ params.vote.no_count }})</span>
            <span class="vote-dot abstain"></span><span>{{ params.translations.abstain }} ({{ params.vote.abstain_count }})</span>
        </p>
    </div>
    {% lucide "chevron-right" %}
</a>
{% endmacro %}